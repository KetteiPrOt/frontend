<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Livewire</title>
	<link rel="icon" href="../../../../media/book.ico">
	<link rel="stylesheet" href="../../../styles.css">
</head>
<body>
	<h1>
        Capítulo 2
		<br>
		Parte 2
        <br>
        <span id="c2p2"></span>
    </h1>
	
	<a class="return" href="../chapter.html">Volver al capitulo</a>

	<cite>"Haste un favor a ti mismo, y simplifica tu vida."</cite>
	
	<hr>

	<p>
		Livewire admite un conjunto limitado de tipos de propiedades debido a su enfoque único para administrar datos de componentes entre solicitudes del servidor.
	</p>
	<p>
		Cada propiedad de un componente Livewire se serializa o "deshidrata" en JSON entre solicitudes y luego se "hidrata" de JSON nuevamente a PHP para la siguiente solicitud.
	</p>
	<p>
		Este proceso de conversión bidireccional tiene ciertas limitaciones, lo que restringe los tipos de propiedades con las que Livewire puede trabajar.
	</p>

	<!-- Tipos primitivos -->
	<h3>Tipos primitivos</h3>
	<p>
		Livewire admite tipos primitivos como cadenas, números enteros, etc. Estos tipos se pueden convertir fácilmente hacia y desde JSON, lo que los hace ideales para usar como propiedades en componentes Livewire.
	</p>
	<p>
		Livewire soporta los siguientes tipos primitivos en las propiedades: <em>Array</em>, <em>String</em>, <em>Integer</em>, <em>Float</em>, <em>Boolean</em>, y <em>Null</em>.
	</p>
	<!-- img -->
	<img src="media/1.png">

	<!-- Tipos PHP comunes -->
	<h3>Tipos PHP comunes</h3>
	<p>
		Además de los tipos primitivos, Livewire admite tipos de objetos PHP comunes utilizados en aplicaciones Laravel. Sin embargo, es importante tener en cuenta que estos tipos se deshidratarán en JSON y se volverán a hidratar en PHP en cada solicitud. Esto significa que es posible que la propiedad no conserve valores en tiempo de ejecución, como los cierres. Además, la información sobre el objeto, como los nombres de las clases, puede estar expuesta a JavaScript.
	</p>
	<p>
		Tipos PHP soportados:
	</p>
	<!-- img -->
	<img src="media/2.png">

	<!-- Eloquent Collections y Models -->
	<h4>Eloquent Collections y Models</h4>
	<p>
		Al almacenar colecciones y modelos de Eloquent en propiedades de Livewire, las restricciones de consulta adicionales como select(...) no se volverán a aplicar en solicitudes posteriores.
	</p>
	<p>
		Visita la sección <a href="https://livewire.laravel.com/docs/properties#eloquent-constraints-arent-preserved-between-requests">Restricciones Eloquent que no son preservadas entre solicitudes</a> para más detalles.
	</p>

	<p>
		A continuación se muestra un ejemplo rápido de cómo configurar propiedades de estos distintos tipos PHP:
	</p>
	<!-- img -->
	<img src="media/3.png">

	<!-- Soportando tipos personalizados -->
	<h3>Soportando tipos personalizados</h3>
	<p>
		Livewire permite que su aplicación admita tipos personalizados a través de dos poderosos mecanismos:
	</p>
	<ul>
		<li>Wireables</li>
		<li>Sintetizadores</li>
	</ul>

	<p>
		Los Wireables son simples y fáciles de usar para la mayoría de las aplicaciones, por lo que los exploraremos a continuación. Si es un usuario avanzado o un autor de paquetes que desea más flexibilidad, los sintetizadores son el camino a seguir.
	</p>

	<!-- Wireables -->
	<h4>Wireables</h4>
	<p>
		Los Wireables son cualquier clase en su aplicación que implemente la interfaz Wireable.
	</p>
	<p>
		Por ejemplo, imaginemos que tiene un objeto <em>Customer</em> en su aplicación que contiene los datos primarios sobre un cliente:
	</p>
	<!-- img -->
	<img src="media/4.png">

	<p>
		Si intenta establecer una instancia de esta clase en una propiedad del componente Livewire, se generará un error que le indicará que el tipo de propiedad <em>Customer</em> no es compatible:
	</p>
	<!-- img -->
	<img src="media/5.png">

	<p>
		Sin embargo, puedes resolver esto implementando la interfaz Wireable y agregando los métodos <em>toLivewire()</em> y <em>fromLivewire()</em> a tu clase. Estos métodos le indican a Livewire cómo convertir propiedades de este tipo en JSON y viceversa:
	</p>
	<!-- img -->
	<img src="media/6.png">

	<p>
		Ahora puede configurar libremente objetos <em>Customer</em> en sus componentes Livewire y Livewire sabrá cómo convertir estos objetos a JSON y nuevamente a PHP.
	</p>
	<p>
		Como se mencionó anteriormente, si desea admitir tipos de manera más global y poderosa, Livewire ofrece sintetizadores, su mecanismo interno avanzado para manejar diferentes tipos de propiedades.
	</p>
	<p>
		<a href="https://livewire.laravel.com/docs/synthesizers">Aprende más sobre sintetizadores</a>
	</p>

	<script src="../../../script.js"></script>
</body>
</html>